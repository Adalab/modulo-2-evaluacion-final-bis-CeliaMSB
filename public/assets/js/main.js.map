{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["//Creamos las constantes para trer la info de html a JS\n\n  const userList = document.querySelector('.user-list');\n  const saveButton = document.querySelector('.js__save-button');\n  const retrieveButton = document.querySelector('.js__retrieve-button');\n\n  //Creamos una constante para guardar la API \n  const url = 'https://randomuser.me/api/?results=10'; \n\n//Creamos un array para guardar la información de la API\n  let users = [];\n \n //Utilizamos el fetch para acceder a los datos del servidor.\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n     //Creamos una constante donde guardaremos los resultados  y con el método map modificaremos el array y devuelverá un objeto con la información que necesitamos.\n      const cleanedData = data.results.map(user => {\n        return {\n          name: user.name.first,\n          city: user.location.city,\n          photo: user.picture.large,\n          username: user.login.username,\n          isFriend: false\n        };\n      });\n    //Asignamos esta información a la variable users\n      users = cleanedData;\n      //Llamamos a la función renderUsers\n      renderUsers();\n    })\n \n //Creamos un evento click mediante el cual a través del click cambiamos un valor del array de falso a verdadero.\n  userList.addEventListener('click', event => {\n    const clickedElement = event.target.closest('li'); //Utilizamos event.target.closest para encontrar el elemento \"li\" se hace para asegurarse de que se hizo click en un elemento \"li\" dentro de userList.\n    if (clickedElement) {\n      const index = Array.from(userList.children).indexOf(clickedElement);\n      //Guardamos en la constante index la siguiente información : Primero, se convierte userList.children en un array utilizando Array.from(). Luego, se utiliza el método indexOf() para encontrar el índice del elemento \"li\" en userList.children\n      users[index].isFriend = true; //Cambiamos el valor\n      renderUsers();\n    }\n  });\n\n //Creamos una función para pintar los usuarios en nuestra página \n  function renderUsers() {\n    //vaciamos el html\n    userList.innerHTML = '';\n//Creamos un bucle para recorrer el array\n    for (let i = 0; i < users.length; i++) {\n      const user = users[i];\n      const li = document.createElement('li');//Manipulando el DOM creamos el elemento li.\n      li.innerHTML = `\n        \n        <article class=\"li-list\">\n        <img src=\"${user.photo}\" alt=\"Photo of ${user.name}\">\n          <h3>${user.name}</h3>\n          <p>${user.city}</p>\n          <p>${user.username}</p>\n        </article>\n      `;\n//Creamos un condicional, con classlist añadimos una clase de css al elemento clicado.\n      if (user.isFriend) {\n        li.classList.add('friend');\n      }\n\n      userList.appendChild(li);\n    }\n  }\n \n  //Creamos un evento para el botón de guardar , para guardar los elementos clicados en el local storage\n  saveButton.addEventListener('click', () => {\n    localStorage.setItem('users', JSON.stringify(users));\n    console.log('Usuario guardado en local storage.');\n  });\n\n  //Creamos un evento click en el boton de recuperar datos para obtener los datos previamente guardados en el local storage\n  retrieveButton.addEventListener('click', () => {\n    const savedUsers = localStorage.getItem('users');\n    if (savedUsers) {\n      users = JSON.parse(savedUsers);\n      renderUsers();//Creamos un condicional para que muestre los usuarios guardados y los meta en la fundion renderUsers\n      console.log('Usuarios recuperados del local storage.');\n    } else {\n      console.log('Ningún usuario guardado en local storage.');//y si no están guardados no los muestra\n    }\n  });\n "]}