const userList=document.querySelector(".user-list"),saveButton=document.querySelector(".js__save-button"),retrieveButton=document.querySelector(".js__retrieve-button"),url="https://randomuser.me/api/?results=10";let users=[];function renderUsers(){userList.innerHTML="";for(let e=0;e<users.length;e++){const s=users[e],r=document.createElement("li");r.innerHTML=`\n        \n        <article class="li-list">\n        <img src="${s.photo}" alt="Photo of ${s.name}">\n          <h3>${s.name}</h3>\n          <p>${s.city}</p>\n          <p>${s.username}</p>\n        </article>\n      `,s.isFriend&&r.classList.add("friend"),userList.appendChild(r)}}fetch(url).then(e=>e.json()).then(e=>{const s=e.results.map(e=>({name:e.name.first,city:e.location.city,photo:e.picture.large,username:e.login.username,isFriend:!1}));users=s,renderUsers()}),userList.addEventListener("click",e=>{const s=e.target.closest("li");if(s){const e=Array.from(userList.children).indexOf(s);users[e].isFriend=!0,renderUsers()}}),saveButton.addEventListener("click",()=>{localStorage.setItem("users",JSON.stringify(users)),console.log("Usuario guardado en local storage.")}),retrieveButton.addEventListener("click",()=>{const e=localStorage.getItem("users");e?(users=JSON.parse(e),renderUsers(),console.log("Usuarios recuperados del local storage.")):console.log("Ning√∫n usuario guardado en local storage.")});